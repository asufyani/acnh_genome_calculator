(this.webpackJsonpacnh_genome_calculator=this.webpackJsonpacnh_genome_calculator||[]).push([[0],{250:function(e,o,r){e.exports=r(454)},255:function(e,o,r){},256:function(e,o,r){},257:function(e,o,r){},454:function(e,o,r){"use strict";r.r(o);var l,a,t,n,c,_=r(1),i=r.n(_),s=r(14),u=r.n(s),m=(r(255),r(18)),p=(r(256),r(257),r(485)),d=r(507),g=r(492),f=r(511),b=r(493),h=r(77),y={flowers:{hyacinth:{island:{orange:"01_11_00",pink:"01_00_01",blue:"11_01_00"},seed:{white:"00_00_01",yellow:"00_11_00",red:"11_00_01"},genomes:{"01_01_01":{color:"yellow"},"01_00_01":{color:"pink",island:1},"01_01_11":{color:"yellow"},"01_00_11":{color:"white"},"01_11_01":{color:"yellow"},"01_11_11":{color:"yellow"},"11_01_00":{island:1,color:"blue"},"11_00_00":{color:"red"},"00_11_00":{seed:1,color:"yellow"},"00_00_00":{color:"white"},"00_01_00":{color:"yellow"},"11_11_00":{color:"purple"},"01_01_00":{color:"orange"},"01_00_00":{color:"red"},"01_11_00":{color:"orange",island:1},"11_01_11":{color:"red"},"11_00_11":{color:"red"},"11_00_01":{seed:1,color:"red"},"11_01_01":{color:"red"},"00_11_11":{color:"yellow"},"00_11_01":{color:"yellow"},"00_01_11":{color:"white"},"00_00_11":{color:"blue"},"00_01_01":{color:"yellow"},"00_00_01":{color:"white",seed:1},"11_11_11":{color:"purple"},"11_11_01":{color:"purple"}},colors:["blue","orange","pink","purple","red","white","yellow"]},windflower:{colors:["blue","orange","pink","purple","red","white"],island:{blue:"01_00_11",pink:"11_11_01"},seed:{white:"00_00_01",orange:"00_11_00",red:"11_00_00"},genomes:{"01_11_00":{color:"orange"},"01_00_00":{color:"red"},"01_01_00":{color:"pink"},"00_00_01":{color:"white",seed:1},"00_01_01":{color:"orange"},"00_00_11":{color:"blue"},"00_01_11":{color:"blue"},"11_11_01":{island:1,color:"pink"},"11_11_11":{color:"purple"},"11_01_01":{color:"red"},"11_00_01":{color:"red"},"11_00_11":{color:"purple"},"11_01_11":{color:"purple"},"00_11_01":{color:"orange"},"00_11_11":{color:"orange"},"01_11_11":{color:"orange"},"01_11_01":{color:"orange"},"01_00_11":{color:"blue",island:1},"01_01_11":{color:"pink"},"01_00_01":{color:"red"},"01_01_01":{color:"pink"},"00_00_00":{color:"white"},"00_01_00":{color:"orange"},"11_11_00":{color:"pink"},"11_01_00":{color:"red"},"11_00_00":{seed:1,color:"red"},"00_11_00":{color:"orange",seed:1}}},cosmos:{island:{orange:"11_01_01",pink:"01_01_11"},seed:{white:"00_00_01",yellow:"00_11_01",red:"11_00_00"},genomes:{"01_00_01":{color:"pink"},"01_01_01":{color:"orange"},"01_01_11":{island:1,color:"pink"},"01_00_11":{color:"pink"},"01_11_01":{color:"orange"},"01_11_11":{color:"orange"},"11_00_00":{color:"red",seed:1},"11_01_00":{color:"orange"},"00_11_00":{color:"yellow"},"00_00_00":{color:"white"},"00_01_00":{color:"yellow"},"11_11_00":{color:"black"},"01_00_00":{color:"pink"},"01_01_00":{color:"orange"},"01_11_00":{color:"orange"},"11_00_11":{color:"red"},"11_01_11":{color:"red"},"11_01_01":{island:1,color:"orange"},"11_00_01":{color:"red"},"00_11_11":{color:"yellow"},"00_11_01":{seed:1,color:"yellow"},"00_01_11":{color:"white"},"00_00_11":{color:"white"},"00_00_01":{seed:1,color:"white"},"00_01_01":{color:"yellow"},"11_11_11":{color:"red"},"11_11_01":{color:"black"}},colors:["black","orange","pink","red","white","yellow"]},pansy:{colors:["blue","orange","purple","red","white","yellow"],seed:{red:"11_00_00",yellow:"00_11_00",white:"00_00_01"},island:{orange:"11_11_01",blue:"01_00_11"},genomes:{"11_01_00":{color:"red"},"11_00_00":{seed:1,color:"red"},"00_11_00":{seed:1,color:"yellow"},"00_01_00":{color:"yellow"},"00_00_00":{color:"white"},"11_11_00":{color:"orange"},"01_01_01":{color:"orange"},"01_00_01":{color:"red"},"01_00_11":{island:1,color:"blue"},"01_01_11":{color:"orange"},"01_11_01":{color:"yellow"},"01_11_11":{color:"yellow"},"11_00_11":{color:"purple"},"11_01_11":{color:"purple"},"11_01_01":{color:"red"},"11_00_01":{color:"red"},"00_11_11":{color:"yellow"},"00_11_01":{color:"yellow"},"00_00_11":{color:"blue"},"00_01_11":{color:"blue"},"00_01_01":{color:"yellow"},"00_00_01":{color:"white",seed:1},"11_11_11":{color:"purple"},"11_11_01":{color:"orange",island:1},"01_00_00":{color:"red"},"01_01_00":{color:"orange"},"01_11_00":{color:"yellow"}}},lily:{colors:["black","orange","pink","red","white","yellow"],seed:{yellow:"00_11_00",white:"00_00_11",red:"11_00_01"},island:{orange:"11_11_01",black:"11_01_00",pink:"11_01_11"},genomes:{"01_11_00":{color:"orange"},"01_01_00":{color:"orange"},"01_00_00":{color:"red"},"00_00_11":{color:"white",seed:1},"00_01_11":{color:"white"},"00_00_01":{color:"white"},"00_01_01":{color:"white"},"11_11_11":{color:"white"},"11_11_01":{color:"orange",island:1},"11_01_11":{color:"pink",island:1},"11_00_11":{color:"pink"},"11_01_01":{color:"red"},"11_00_01":{seed:1,color:"red"},"00_11_11":{color:"white"},"00_11_01":{color:"yellow"},"01_11_01":{color:"yellow"},"01_11_11":{color:"yellow"},"01_01_01":{color:"yellow"},"01_00_01":{color:"pink"},"01_01_11":{color:"yellow"},"01_00_11":{color:"white"},"00_01_00":{color:"yellow"},"00_00_00":{color:"white"},"11_11_00":{color:"orange"},"11_01_00":{island:1,color:"black"},"11_00_00":{color:"black"},"00_11_00":{seed:1,color:"yellow"}}},tulip:{colors:["black","orange","pink","purple","red","white","yellow"],island:{black:"11_01_00",orange:"01_11_00",pink:"01_00_01"},genomes:{"00_11_11":{color:"yellow"},"00_11_01":{color:"yellow"},"11_00_11":{color:"red"},"11_01_11":{color:"red"},"11_00_01":{seed:1,color:"red"},"11_01_01":{color:"red"},"11_11_11":{color:"purple"},"11_11_01":{color:"purple"},"00_00_11":{color:"white"},"00_01_11":{color:"white"},"00_00_01":{color:"white",seed:1},"00_01_01":{color:"yellow"},"01_00_00":{color:"red"},"01_01_00":{color:"orange"},"01_11_00":{island:1,color:"orange"},"00_11_00":{color:"yellow",seed:1},"11_01_00":{color:"black",island:1},"11_00_00":{color:"black"},"11_11_00":{color:"purple"},"00_00_00":{color:"white"},"00_01_00":{color:"yellow"},"01_01_01":{color:"yellow"},"01_00_01":{island:1,color:"pink"},"01_00_11":{color:"white"},"01_01_11":{color:"yellow"},"01_11_01":{color:"yellow"},"01_11_11":{color:"yellow"}},seed:{red:"11_00_01",yellow:"00_11_00",white:"00_00_01"}},rose:{island:{pink:"11_00_11_11",orange:"11_11_01_01"},seed:{white:"00_00_01_00",yellow:"00_11_00_00",red:"11_00_00_01"},genomes:{"00_01_11_11":{color:"purple"},"00_00_01_11":{color:"white"},"00_00_00_00":{color:"white"},"01_11_11_01":{color:"pink"},"11_11_11_11":{color:"white"},"11_00_11_11":{color:"pink",island:1},"00_11_00_00":{seed:1,color:"yellow"},"01_00_11_01":{color:"pink"},"01_01_01_01":{color:"pink"},"11_01_01_11":{color:"white"},"11_01_00_00":{color:"orange"},"00_11_01_11":{color:"yellow"},"01_11_01_00":{color:"orange"},"00_01_00_01":{color:"yellow"},"11_11_00_01":{color:"orange"},"01_11_00_11":{color:"yellow"},"01_00_00_11":{color:"white"},"11_00_00_01":{seed:1,color:"red"},"01_00_01_00":{color:"red"},"01_01_11_00":{color:"red"},"00_00_00_11":{color:"white"},"11_11_11_00":{color:"blue"},"00_01_11_00":{color:"purple"},"00_00_01_00":{seed:1,color:"white"},"01_01_00_01":{color:"yellow"},"11_01_00_11":{color:"yellow"},"00_11_01_00":{color:"yellow"},"11_00_11_00":{color:"black"},"00_11_00_11":{color:"yellow"},"11_01_01_00":{color:"red"},"00_01_01_01":{color:"white"},"01_11_00_00":{color:"orange"},"00_00_11_01":{color:"purple"},"11_11_01_01":{island:1,color:"orange"},"01_11_01_11":{color:"yellow"},"01_00_01_11":{color:"white"},"11_00_01_01":{color:"red"},"11_01_11_01":{color:"red"},"01_01_11_11":{color:"purple"},"00_11_11_01":{color:"white"},"01_00_00_00":{color:"red"},"11_11_00_00":{color:"orange"},"00_00_11_11":{color:"purple"},"00_01_01_11":{color:"white"},"00_01_00_00":{color:"yellow"},"11_11_01_11":{color:"yellow"},"01_11_01_01":{color:"yellow"},"11_01_11_11":{color:"purple"},"01_01_11_01":{color:"pink"},"01_00_01_01":{color:"pink"},"11_00_01_11":{color:"pink"},"00_11_11_11":{color:"white"},"11_00_00_00":{color:"black"},"00_00_00_01":{color:"white"},"01_11_11_00":{color:"red"},"01_01_00_11":{color:"yellow"},"11_01_00_01":{color:"orange"},"01_01_01_00":{color:"red"},"01_00_11_00":{color:"red"},"00_11_00_01":{color:"yellow"},"00_01_00_11":{color:"yellow"},"11_11_01_00":{color:"orange"},"11_11_00_11":{color:"yellow"},"01_11_00_01":{color:"yellow"},"00_00_11_00":{color:"purple"},"00_01_01_00":{color:"white"},"01_00_00_01":{color:"pink"},"00_11_11_00":{color:"white"},"11_00_00_11":{color:"pink"},"11_01_11_00":{color:"black"},"11_00_01_00":{color:"black"},"00_00_01_01":{color:"white"},"00_01_11_01":{color:"purple"},"01_11_11_11":{color:"white"},"11_11_11_01":{color:"red"},"01_01_01_11":{color:"white"},"11_01_01_01":{color:"red"},"11_00_11_01":{color:"red"},"01_00_11_11":{color:"purple"},"00_11_01_01":{color:"yellow"},"01_01_00_00":{color:"orange"}},colors:["black","blue","orange","pink","purple","red","white","yellow"]},mum:{colors:["green","pink","purple","red","white","yellow"],seed:{red:"11_00_00",white:"00_00_01",yellow:"00_11_00"},island:{pink:"01_01_11",purple:"11_01_01"},genomes:{"11_11_01":{color:"green"},"11_11_11":{color:"red"},"00_00_01":{color:"white",seed:1},"00_01_01":{color:"yellow"},"00_01_11":{color:"white"},"00_00_11":{color:"purple"},"00_11_01":{color:"yellow"},"00_11_11":{color:"yellow"},"11_00_01":{color:"red"},"11_01_01":{color:"purple",island:1},"11_00_11":{color:"red"},"11_01_11":{color:"red"},"01_11_00":{color:"purple"},"01_01_00":{color:"yellow"},"01_00_00":{color:"pink"},"11_11_00":{color:"green"},"00_01_00":{color:"yellow"},"00_00_00":{color:"white"},"00_11_00":{color:"yellow",seed:1},"11_01_00":{color:"purple"},"11_00_00":{color:"red",seed:1},"01_11_11":{color:"purple"},"01_11_01":{color:"purple"},"01_01_11":{island:1,color:"pink"},"01_00_11":{color:"pink"},"01_01_01":{color:"red"},"01_00_01":{color:"pink"}}}}};!function(e){e.black="black",e.blue="blue",e.orange="orange",e.red="red",e.yellow="yellow",e.purple="purple",e.green="green",e.pink="pink",e.white="white"}(l||(l={})),function(e){e.hyacinth="hyacinth",e.windflower="windflower",e.mum="mum",e.lily="lily",e.pansy="pansy",e.rose="rose",e.tulip="tulip",e.cosmos="cosmos"}(a||(a={})),function(e){e.black="#999",e.blue="#36f",e.orange="#f93",e.red="#f33",e.yellow="#ff3",e.purple="#96f",e.green="#9c0",e.pink="#f9f",e.white="#fff"}(t||(t={})),function(e){e.binary="binary",e.condensed="condensed",e.alpha="alpha"}(n||(n={})),function(e){e.percentage="percentage",e.fraction="fraction"}(c||(c={}));var w=r(105),E=r.n(w),k={"0000":["00"],"0001":["00","01"],"0011":["01"],"0100":["00","01"],"0101":["00","01","01","11"],"0111":["01","11"],1100:["01"],1101:["01","11"],1111:["11"]},v={0:"00",1:"01",2:"11"},j=["r","R"],C=["y","Y"],O=["W","w"],x=["s","S"],F=[j,C,x],S=[j,C,O],N={rose:[j,C,O,x],cosmos:[j,C,x],lily:F,pansy:S,tulip:F,hyacinth:S,mum:S,windflower:[j,["o","O"],O]};function I(e,o){var r=function e(o,r,l){var a=o.shift(),t=[],n=[];return null===a||void 0===a||a.forEach((function(e){var o=e.substr(0,2),a=e.substr(2,2);r.forEach((function(e){t.push(e.concat([o]))})),l.forEach((function(e){n.push(e.concat([a]))}))})),0===(null===o||void 0===o?void 0:o.length)?{combos:o,parent1:t,parent2:n}:e(o,t,n)}(e.map((function(e){return Object.keys(k).filter((function(o){return E.a.some(k[o],(function(o){return o===e}))}))})),[[]],[[]]),l=r.parent1,a=r.parent2,t=l.map((function(e){return e.join("_")})),n=a.map((function(e){return e.join("_")})),c={},_=[];return t.forEach((function(e,r){var l=[t[r],n[r]].sort().join("x");if(!c[l]){c[l]=1;var a=R(t[r],n[r],"",o).res;_=_.concat(a)}})),_}var P=y.flowers,T=/(?:[01]{2}(\S)){2,3}[01]{2}/,G=/[\d]{3,4}/,K=/(seed|island) (red|pink|yellow|orange|black|blue|purple|white)/i;function M(e,o){var r=function(e,o){var r=P[e].genomes[o],l=function(e){var o=e.color,r=e.seed,l=e.island,a=o;l?a+=" (island)":r&&(a+=" (seed)");return a}(r);return{species:e,genome:o,backgroundColor:t[r.color],colorDisplayString:l,color:r.color}}(e,o),l=function(e){return e.split("_").map((function(e){return e.split("").reduce((function(e,o){return(parseInt(e,2)+parseInt(o,2)).toString()}))})).join("")}(o),a=function(e,o){var r=o.split("_"),l=N[e];return r.map((function(e,o){return e.split("").map((function(e){return l[o][parseInt(e,2)]})).sort().join("")})).join("-")}(e,o);return Object(h.a)({genome:o,alphaGenome:a,condensedGenome:l,species:e},r)}function W(e,o){var r=[],l=P[e].genomes;return Object.keys(l).forEach((function(a){l[a].color===o&&r.push(M(e,a))})),r}function B(e,o){var r=e.split(","),a=[];return r.forEach((function(e){var r=e.trim(),t=[],n=0;r.toLowerCase()in l&&(n=1,W(o,r.toLowerCase()).forEach((function(e){t=e.genome.split("_"),a.push(t)})));if(!n){var c=T.exec(r);c&&c[1]&&(n=1,t=r.split(c[1]),a.push(t))}if(!n){var _=G.exec(r);_&&_[0]&&(n=1,t=r.split("").map((function(e){return v[parseInt(e,3)]})),a.push(t))}if(!n&&K.exec(r)){var i=r.toLowerCase().split(" "),s=i[0],u=i[1],m=P[o][s][u];t=m.split("_"),a.push(t)}if(!function(e,o){return e.length===N[o].length}(t,o))throw new Error("Could not parse ".concat(e," for species ").concat(o))})),a}function D(e,o){switch(o){case n.binary:return e.genome;case n.condensed:return e.condensedGenome;case n.alpha:return e.alphaGenome;default:return""}}function R(e,o,r,l){try{var a=B(e,l),t=B(o,l),n=[];r&&(n=B(r,l).map((function(e){return e.join("_")})));var c={};a.forEach((function(e){t.forEach((function(o){if(!c[e.join("_")+","+o.join("_")]&&!c[o.join("_")+","+e.join("_")]){var r=[];e.forEach((function(l,a){var t=e[a]+o[a];r.push(k[t])}));var l=function e(o){if(1===o.length)return o[0];var r=o.shift(),l=e(o),a=[];return null===r||void 0===r||r.forEach((function(e){l.forEach((function(o){a.push(e+"_"+o)}))})),a}(r);c[e.join("_")+","+o.join("_")]=l}}))}));var _=[];return Object.keys(c).forEach((function(e){var o={},r=e.split(",");o.parents=r,o.offspring=[];var a={},t=0;c[e].forEach((function(e){a[e]=a[e]?a[e]+1:1,t++})),Object.keys(a).sort().forEach((function(e){var r=M(l,e);o.offspring.push(Object(h.a)({probability:a[e]/t},r))})),n.length&&!E.a.some(o.offspring,(function(e){return E.a.some(n,(function(o){return o===e.genome}))}))||_.push(o)})),{res:_}}catch(i){return{res:[],error:i}}}function A(e,o){var r=e.probability;if(o===c.percentage)return 100*r+"%";var l=256/function e(o,r){return 0===r?o:e(r,o%r)}(256*r,256);return r*l+":"+l}var L=r(488),z=r(508),q=r(504),H=r(510),J=Object(p.a)((function(e){return Object(d.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})})),Q=Object.keys(a),V=function(e){var o=e.species,r=e.setSpecies,l=J();return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{className:l.formControl},i.a.createElement(z.a,{shrink:!0,id:"species-select-label"},"Species"),i.a.createElement(q.a,{labelId:"species-select-label",id:"species-select",value:o,onChange:function(e){return r(e.target.value)},displayEmpty:!0,className:l.selectEmpty},Q.sort().map((function(e){return i.a.createElement(H.a,{key:e,value:e},e)})))))},Y=Object(p.a)((function(e){return Object(d.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})})),$=function(e){var o=e.parent1,r=e.parent2,l=e.offspringFilter,a=e.setParent1,t=e.setParent2,n=e.setOffspringFilter,c=e.setRes,_=e.setErr,s=e.species,u=e.setSpecies,m=Y(),p=i.a.useCallback((function(e){c([]),u(e)}),[c,u]),d=i.a.useCallback((function(e){var a;_(""),(a=o&&r?R(o,r,l,s):function(e,o){var r=B(e,o),l=[],a={};return r.forEach((function(e){I(e,o).forEach((function(e){var o=e.parents.sort().join("x");a[o]||(a[o]=1,l.push(e))}))})),console.log(l.length),{res:l}}(l,s)).error?(_(a.error.message),c([])):c(a.res)}),[l,o,r,_,c,s]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{className:m.root,noValidate:!0,autoComplete:"off"},i.a.createElement("div",null,i.a.createElement(g.a,{container:!0,alignContent:"center",justify:"center",spacing:0},i.a.createElement(g.a,{item:!0,xs:12,xl:6},i.a.createElement(g.a,{container:!0,justify:"center"},i.a.createElement(g.a,{item:!0,xs:12,sm:4,xl:3},i.a.createElement(f.a,{label:"Parent 1",value:o,onChange:function(e){return a(e.target.value)},helperText:"e.g. 00_01_00, 010, seed red, island pink"})),i.a.createElement(g.a,{item:!0,xs:12,sm:4,xl:3},i.a.createElement(f.a,{label:"Parent 2",value:r,onChange:function(e){return t(e.target.value)}})),i.a.createElement(g.a,{item:!0,xs:12,sm:4,xl:3},i.a.createElement(f.a,{label:"Offspring Filter",value:l,onChange:function(e){return n(e.target.value)}})),i.a.createElement(g.a,{item:!0,xs:12,sm:3},i.a.createElement(V,{species:s,setSpecies:p})))),i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(b.a,{variant:"contained",color:"primary",disabled:!s,onClick:d},"Calculate"))))))},U=r(133),X=r(494),Z=r(495),ee=r(496),oe=r(512),re=r(497),le=r(498),ae=r(513),te=r(499);function ne(e,o,r){return o[r]<e[r]?-1:o[r]>e[r]?1:0}var ce=Object(p.a)((function(e){return Object(d.a)({offspringChip:{width:"100%",border:"1px solid black",fontWeight:"bold"},root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}));function _e(e){var o=e.classes,r=e.order,l=e.orderBy,a=e.onRequestSort,t=e.showProbability,n=void 0===t||t,c=e.showGenome,_=void 0===c||c,s=[].concat(Object(U.a)(_?[{sortKey:"genome",numeric:!1,disablePadding:!0,label:"Genome"}]:[]),[{sortKey:"colorDisplayString",numeric:!1,disablePadding:!1,label:"Color"}],Object(U.a)(n?[{sortKey:"probability",numeric:!0,disablePadding:!1,label:"Probability"}]:[]));return i.a.createElement(X.a,null,i.a.createElement(Z.a,null,s.map((function(e){return i.a.createElement(ee.a,{key:e.sortKey,align:"center",padding:"none",sortDirection:l===e.sortKey&&r},i.a.createElement(oe.a,{active:l===e.sortKey,direction:l===e.sortKey?r:"asc",onClick:(t=e.sortKey,function(e){a(e,t)}),hideSortIcon:!0},e.label,l===e.sortKey?i.a.createElement("span",{className:o.visuallyHidden},"desc"===r?"sorted descending":"sorted ascending"):null));var t}))))}var ie=i.a.memo((function(e){var o=e.offspring,r=e.genomeFormat,l=e.showProbability,a=void 0===l||l,t=e.showGenome,n=void 0===t||t,_=e.probabilityFormat,s=void 0===_?c.percentage:_,u=ce(),p=i.a.useState("asc"),d=Object(m.a)(p,2),g=d[0],f=d[1],b=i.a.useState("genome"),h=Object(m.a)(b,2),y=h[0],w=h[1];return i.a.createElement(re.a,{size:"small",padding:"none"},i.a.createElement(_e,{classes:u,order:g,orderBy:y,onRequestSort:function(e,o){f(y===o&&"asc"===g?"desc":"asc"),w(o)},showProbability:a,showGenome:n}),i.a.createElement(le.a,null,function(e,o){var r=e.map((function(e,o){return[e,o]}));return r.sort((function(e,r){var l=o(e[0],r[0]);return 0!==l?l:e[1]-r[1]})),r.map((function(e){return e[0]}))}(o,function(e,o){return"desc"===e?function(e,r){return ne(e,r,o)}:function(e,r){return-ne(e,r,o)}}(g,y)).map((function(e){return i.a.createElement(Z.a,{key:e.genome},n&&i.a.createElement(ee.a,{align:"center"},D(e,r)),i.a.createElement(ee.a,{align:"center"},i.a.createElement(ae.a,{style:{backgroundColor:e.backgroundColor},className:u.offspringChip,label:i.a.createElement(te.a,{variant:"subtitle2"},e.colorDisplayString)})),a&&i.a.createElement(ee.a,{align:"center"},A(e,s)))}))))})),se=function(e){var o=e.headers,r=e.resultsTable,l=e.cornerIcon;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"dialogue-character-wrap"},o.map((function(e){var o=e.backgroundColor,r=e.key,l=e.text;return i.a.createElement("div",{className:"dialogue-character",style:{backgroundColor:o},key:r},i.a.createElement("slot",{name:"character"},i.a.createElement("b",null,l)))}))),i.a.createElement("div",{className:"dialogue"},i.a.createElement("div",{className:"dialogue-text"},l,r)))},ue=se,me=y.flowers,pe=Object(p.a)((function(e){return Object(d.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})})),de=function(e){var o=e.genomeFormat,r=e.species,l=e.setSpecies,a=e.color,n=e.setColor,c=pe(),_=W(r,a);return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{container:!0,justify:"center"},i.a.createElement(g.a,{item:!0},i.a.createElement(V,{species:r,setSpecies:l})),i.a.createElement(g.a,{item:!0},i.a.createElement(L.a,{className:c.formControl},i.a.createElement(z.a,{shrink:!0,id:"color-select-label"},"Color"),i.a.createElement(q.a,{labelId:"color-select-label",id:"color-select",value:a,onChange:function(e){return n(e.target.value)},displayEmpty:!0,className:c.selectEmpty},r&&me[r].colors.map((function(e){return i.a.createElement(H.a,{key:e,value:e},e)})))))),i.a.createElement(g.a,{container:!0,className:"resultsContainer",alignItems:"flex-start",alignContent:"center",justify:"center",spacing:0},i.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,xl:3,component:"div"},i.a.createElement(ue,{headers:[{backgroundColor:t[a],key:"key",text:a+" "+r}],resultsTable:i.a.createElement(ie,{offspring:_,genomeFormat:o,showProbability:!1})}))))},ge=r(197),fe=r.n(ge),be=r(215),he=r(501),ye=r(502),we=r(505),Ee=r(503),ke=r(506),ve=r(514),je=r(500),Ce=r(212),Oe=r.n(Ce),xe=r(213),Fe=r.n(xe),Se=r(214),Ne=r.n(Se),Ie=function(e){var o=e.icon,r=e.handler;return i.a.createElement("span",{className:"corner-icon",onClick:r},o)},Pe=r(198),Te=r.n(Pe),Ge=function(e){var o=e.pairing,r=e.showChart,l=o.parents,a=o.offspring,t=o.species,n=o.genomeFormat,c=o.probabilityFormat,_=[M(t,l[0]),M(t,l[1])].map((function(e,o){return{text:D(e,n),key:e.genome+"-"+o,backgroundColor:e.backgroundColor}}));return i.a.createElement(se,{headers:_,cornerIcon:i.a.createElement(Ie,{handler:function(){r(o)},icon:i.a.createElement(Te.a,null)}),resultsTable:i.a.createElement(ie,{offspring:a,genomeFormat:n,probabilityFormat:c})})},Ke=i.a.memo((function(e){var o=e.res,r=e.err,l=e.species,a=e.genomeFormat,t=e.probabilityFormat,n=e.showChart;return i.a.createElement(g.a,{container:!0,className:"resultsContainer",alignItems:"flex-start",alignContent:"center",justify:"center",spacing:0},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(g.a,{container:!0,spacing:3,alignItems:"flex-start",alignContent:"center",justify:"center"},r&&i.a.createElement(te.a,{color:"error",variant:"h6"},r),o.map((function(e){return i.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,xl:3,key:e.parents.join("x"),component:"div"},i.a.createElement(Ge,{key:e.parents.join("x"),pairing:Object(h.a)({species:l,genomeFormat:a,probabilityFormat:t},e),showChart:n}))})))))})),Me=r(80),We=r(211),Be=r.n(We),De=function(e){var o=e.pairing,r=e.probabilityFormat,l=e.closeModal,a=e.genomeFormat,c={};o.offspring.forEach((function(e){var o=e.color;c[o]=c[o]?c[o]+e.probability:e.probability}));var _=o.parents,s=o.species,u=[M(s,_[0]),M(s,_[1])].map((function(e){return{text:D(e,a),key:e.genome,backgroundColor:e.backgroundColor}})),m=Object.keys(c).map((function(e){return{genome:e,colorDisplayString:e,backgroundColor:t[e],color:e,probability:c[e]}})),p=m.map((function(e){return{name:e.color,value:e.probability,color:t[e.color]}})),d=Math.PI/180;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"breakdown-bubble-container"},i.a.createElement(ue,{headers:u,cornerIcon:i.a.createElement(Ie,{icon:i.a.createElement(Be.a,null),handler:l}),resultsTable:i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{container:!0},i.a.createElement(g.a,{item:!0,xs:12,md:6},i.a.createElement("div",{className:"pie-container"},i.a.createElement(Me.d,null,i.a.createElement(Me.c,null,i.a.createElement(Me.b,{data:p,dataKey:"value",label:function(e){var o=e.cx,r=e.cy,l=e.midAngle,a=e.innerRadius,t=e.outerRadius,n=e.percent,c=(e.index,a+.5*(t-a)),_=o+c*Math.cos(-l*d),s=r+c*Math.sin(-l*d);return i.a.createElement("text",{x:_,y:s,fill:"black",textAnchor:_>o?"start":"end",dominantBaseline:"central",fontSize:"12px"},"".concat(100*n,"%"))},labelLine:!1},p.map((function(e,o){return i.a.createElement(Me.a,{key:"cell-".concat(o),fill:p[o].color})}))))))),i.a.createElement(g.a,{item:!0,xs:12,md:4},i.a.createElement(ie,{offspring:m,showGenome:!1,genomeFormat:n.binary,probabilityFormat:r}))))})))},Re=Object(p.a)((function(e){return Object(d.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})})),Ae=function(e){var o=e.format,r=e.formatOptions,l=e.label,a=e.setFormat,t=Re();return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{className:t.formControl},i.a.createElement(z.a,{shrink:!0,id:"format-select-label"},l),i.a.createElement(q.a,{labelId:"format-select-label",value:o,onChange:function(e){return a(e.target.value)},displayEmpty:!0,className:t.selectEmpty},Object.keys(r).map((function(e){return i.a.createElement(H.a,{key:e,value:e},e)})))))},Le=Object(be.a)({typography:{fontFamily:"Quicksand",fontSize:12,fontWeightBold:"bold"},palette:{primary:{main:je.a[500]},secondary:{main:"#11cb5f"}}});var ze=function(){var e=Object(_.useState)(0),o=Object(m.a)(e,2),r=o[0],l=o[1];function t(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var s=Object(_.useState)(localStorage.getItem("acnh_calc_genome_format")||"binary"),u=Object(m.a)(s,2),p=u[0],d=u[1],g=Object(_.useState)(localStorage.getItem("acnh_calc_prob_format")||"percentage"),f=Object(m.a)(g,2),b=f[0],h=f[1],w=Object(_.useState)(""),E=Object(m.a)(w,2),k=E[0],v=E[1],j=Object(_.useState)(""),C=Object(m.a)(j,2),O=C[0],x=C[1],F=Object(_.useState)(""),S=Object(m.a)(F,2),N=S[0],I=S[1],P=Object(_.useState)(""),T=Object(m.a)(P,2),G=T[0],K=T[1],M=Object(_.useState)([]),W=Object(m.a)(M,2),B=W[0],D=W[1],R=Object.keys(a),A=Object(_.useState)(R[0]),L=Object(m.a)(A,2),z=L[0],q=L[1],H=Object(_.useState)(y.flowers[z].colors[0]),J=Object(m.a)(H,2),Q=J[0],V=J[1],Y=Object(_.useState)(!1),U=Object(m.a)(Y,2),X=U[0],Z=U[1],ee=Object(_.useState)({}),oe=Object(m.a)(ee,2),re=oe[0],le=oe[1],ae=i.a.useCallback((function(e){D([]),q(e)}),[D,q]),te=function(){Z(!1)},ne=i.a.useCallback((function(e){le(e),Z(!0)}),[le,Z]),ce=i.a.useCallback((function(e){h(e),localStorage.setItem("acnh_calc_prob_format",e)}),[h]),_e=i.a.useCallback((function(e){d(e),localStorage.setItem("acnh_calc_genome_format",e)}),[d]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Quicksand:400,700",rel:"stylesheet",type:"text/css"}),i.a.createElement(he.a,{theme:Le},i.a.createElement("div",{className:"App"},i.a.createElement(ye.a,{position:"static",color:"secondary"},i.a.createElement(we.a,{value:r,onChange:function(e,o){l(o)},indicatorColor:"primary",textColor:"primary","aria-label":"scrollable auto tabs example",centered:!0},i.a.createElement(Ee.a,Object.assign({icon:i.a.createElement(Oe.a,null)},t(0))),i.a.createElement(Ee.a,Object.assign({icon:i.a.createElement(Fe.a,null)},t(1))),i.a.createElement(Ee.a,Object.assign({icon:i.a.createElement(Ne.a,null)},t(2))))),i.a.createElement(fe.a,{axis:"x",index:r,onChangeIndex:function(e){l(e)}},i.a.createElement("div",{className:"swipeable"},i.a.createElement($,{parent1:k,parent2:O,setParent1:v,setParent2:x,offspringFilter:G,setOffspringFilter:K,setErr:I,setRes:D,species:z,setSpecies:ae}),i.a.createElement(Ke,{res:B,err:N,species:z,genomeFormat:p,probabilityFormat:b,showChart:ne}),i.a.createElement(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:X,onClose:te,closeAfterTransition:!0,BackdropComponent:ve.a,BackdropProps:{timeout:500}},i.a.createElement(i.a.Fragment,null,i.a.createElement(De,{pairing:re,probabilityFormat:b,genomeFormat:p,closeModal:te})))),i.a.createElement("div",{className:"swipeable"},i.a.createElement(de,{genomeFormat:p,species:z,setSpecies:ae,color:Q,setColor:V})),i.a.createElement("div",{className:"swipeable"},i.a.createElement(Ae,{format:p,label:"Genome Display",formatOptions:n,setFormat:_e}),i.a.createElement(Ae,{format:b,label:"Probability Display",formatOptions:c,setFormat:ce}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[250,1,2]]]);
//# sourceMappingURL=main.7ea7d5ca.chunk.js.map